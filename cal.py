def calculate_duty():
    # Получаем сумму от пользователя
    y = input("Введите цену иска (в рублях): ")

    # Проверяем, является ли введенное значение числом
    y = y.replace(',', ".")
    try:
        y = float(y)
        if y < 0:
            raise ValueError("Число не может быть отрицательным")
    except ValueError:
        return "Ошибка. Вы ввели не число или отрицательное число. Попробуйте снова."

    # Проверка на нулевую сумму
    if y == 0:
        return """Цена иска не может быть 0 рублей.
Возможно вы ошиблись при вводе суммы,
либо ваш иск не подлежит оценке - проверьте ваше требование"""

    # Округление суммы
    y = int(y + 0.5)

    # Расчет госпошлины
    if y <= 100000:
        res = 10000
        formula = "до 100 000 рублей - 10 000 рублей"
    elif y <= 1000000:
        res = 10000 + 0.05 * (y - 100000)
        formula = "от 100 001 рубля до 1 000 000 рублей - 10 000 рублей плюс 5 процентов суммы, превышающей 100 000 рублей"
    elif y <= 10000000:
        res = 55000 + 0.03 * (y - 1000000)
        formula = "от 1 000 001 рубля до 10 000 000 рублей - 55 000 рублей плюс 3 процента суммы, превышающей 1 000 000 рублей"
    elif y <= 50000000:
        res = 325000 + 0.01 * (y - 10000000)
        formula = "от 10 000 001 рубля до 50 000 000 рублей - 325 000 рублей плюс 1 процент суммы, превышающей 10 000 000 рублей"
    else:
        res = 725000 + 0.005 * (y - 50000000)
        formula = "свыше 50 000 000 рублей - 725 000 рублей плюс 0,5 процента суммы, превышающей 50 000 000 рублей"
        if res > 10000000:
            res = 10000000
            formula = "свыше 50 000 000 рублей - максимум 10 000 000 рублей"

    # Округление результата
    res = int(res + 0.5)

    # Проверка на банкротство
    bankruptcy = input(
        "Обособленный спор в деле о банкротстве? (да/нет): ").lower()
    if bankruptcy == "да":
        res = int(res / 2 + 0.5)
        formula += "\n(50% от стандартной пошлины из-за банкротства)"

    return f"Госпошлина: {res} рублей\nФормула: {formula}"


# Запуск программы
print(calculate_duty())
